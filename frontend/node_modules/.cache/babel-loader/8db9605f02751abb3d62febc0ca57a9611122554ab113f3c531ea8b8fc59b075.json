{"ast":null,"code":"import apiClient from '../utils/apiClient';\nimport { handleApiError } from '../utils/errorHandler';\n\n/**\r\n * User API Service\r\n * Maps to UserController and AuthenticationController endpoints\r\n */\nconst userApi = {\n  /**\r\n   * Register new user\r\n   * POST /auth/register\r\n   */\n  register: async userData => {\n    try {\n      const response = await apiClient.post('/auth/register', userData);\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Login user\r\n   * POST /auth/login\r\n   */\n  login: async credentials => {\n    try {\n      const response = await apiClient.post('/auth/login', credentials);\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Get current user profile\r\n   * GET /users/me\r\n   */\n  getCurrentUser: async () => {\n    try {\n      const response = await apiClient.get('/users/me');\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Get user by ID\r\n   * GET /users/{id}\r\n   */\n  getUserById: async id => {\n    try {\n      const response = await apiClient.get(`/users/${id}`);\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Update user profile\r\n   * PUT /users/{id}\r\n   */\n  updateUser: async (id, userData) => {\n    try {\n      const response = await apiClient.put(`/users/${id}`, userData);\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Change password\r\n   * PUT /users/{id}/password\r\n   */\n  changePassword: async (id, passwordData) => {\n    try {\n      const response = await apiClient.put(`/users/${id}/password`, passwordData);\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Get all users (Admin only)\r\n   * GET /users\r\n   */\n  getAllUsers: async () => {\n    try {\n      const response = await apiClient.get('/users');\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Delete user (Admin only)\r\n   * DELETE /users/{id}\r\n   */\n  deleteUser: async id => {\n    try {\n      const response = await apiClient.delete(`/users/${id}`);\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Logout user\r\n   * POST /auth/logout\r\n   */\n  logout: async () => {\n    try {\n      const response = await apiClient.post('/auth/logout');\n      return response.data;\n    } catch (error) {\n      // Logout should succeed even if API fails\n      return {\n        success: true\n      };\n    }\n  }\n};\nexport default userApi;","map":{"version":3,"names":["apiClient","handleApiError","userApi","register","userData","response","post","data","error","login","credentials","getCurrentUser","get","getUserById","id","updateUser","put","changePassword","passwordData","getAllUsers","deleteUser","delete","logout","success"],"sources":["C:/STUDY/webapp/Library-Management-ITITIU22124/frontend/src/services/userApi.js"],"sourcesContent":["import apiClient from '../utils/apiClient';\r\nimport { handleApiError } from '../utils/errorHandler';\r\n\r\n/**\r\n * User API Service\r\n * Maps to UserController and AuthenticationController endpoints\r\n */\r\nconst userApi = {\r\n  /**\r\n   * Register new user\r\n   * POST /auth/register\r\n   */\r\n  register: async (userData) => {\r\n    try {\r\n      const response = await apiClient.post('/auth/register', userData);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Login user\r\n   * POST /auth/login\r\n   */\r\n  login: async (credentials) => {\r\n    try {\r\n      const response = await apiClient.post('/auth/login', credentials);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Get current user profile\r\n   * GET /users/me\r\n   */\r\n  getCurrentUser: async () => {\r\n    try {\r\n      const response = await apiClient.get('/users/me');\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Get user by ID\r\n   * GET /users/{id}\r\n   */\r\n  getUserById: async (id) => {\r\n    try {\r\n      const response = await apiClient.get(`/users/${id}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Update user profile\r\n   * PUT /users/{id}\r\n   */\r\n  updateUser: async (id, userData) => {\r\n    try {\r\n      const response = await apiClient.put(`/users/${id}`, userData);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Change password\r\n   * PUT /users/{id}/password\r\n   */\r\n  changePassword: async (id, passwordData) => {\r\n    try {\r\n      const response = await apiClient.put(`/users/${id}/password`, passwordData);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Get all users (Admin only)\r\n   * GET /users\r\n   */\r\n  getAllUsers: async () => {\r\n    try {\r\n      const response = await apiClient.get('/users');\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Delete user (Admin only)\r\n   * DELETE /users/{id}\r\n   */\r\n  deleteUser: async (id) => {\r\n    try {\r\n      const response = await apiClient.delete(`/users/${id}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Logout user\r\n   * POST /auth/logout\r\n   */\r\n  logout: async () => {\r\n    try {\r\n      const response = await apiClient.post('/auth/logout');\r\n      return response.data;\r\n    } catch (error) {\r\n      // Logout should succeed even if API fails\r\n      return { success: true };\r\n    }\r\n  },\r\n};\r\n\r\nexport default userApi;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}