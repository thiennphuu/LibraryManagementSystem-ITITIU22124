{"ast":null,"code":"var _jsxFileName = \"C:\\\\STUDY\\\\webapp\\\\Library-Management-ITITIU22124\\\\frontend\\\\src\\\\pages\\\\BookListPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport BookCard from '../components/BookCard';\nimport BookSearchBar from '../components/BookSearchBar';\nimport bookApi from '../services/bookApi';\nimport './BookListPage.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BookListPage = () => {\n  _s();\n  const [books, setBooks] = useState([]);\n  const [filteredBooks, setFilteredBooks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    fetchBooks();\n  }, []);\n  const fetchBooks = async () => {\n    setLoading(true);\n    try {\n      const data = await bookApi.getAllBooks();\n      setBooks(data);\n      setFilteredBooks(data);\n    } catch (err) {\n      setError('Failed to load books');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSearch = async ({\n    query,\n    category,\n    availability\n  }) => {\n    setLoading(true);\n    try {\n      if (query) {\n        const data = await bookApi.searchBooks(query);\n        let results = data;\n        if (category) {\n          results = results.filter(book => book.category === category);\n        }\n        if (availability === 'available') {\n          results = results.filter(book => book.availableCopies > 0);\n        } else if (availability === 'unavailable') {\n          results = results.filter(book => book.availableCopies === 0);\n        }\n        setFilteredBooks(results);\n      } else {\n        // No query, just filter existing books\n        let results = books;\n        if (category) {\n          results = results.filter(book => book.category === category);\n        }\n        if (availability === 'available') {\n          results = results.filter(book => book.availableCopies > 0);\n        } else if (availability === 'unavailable') {\n          results = results.filter(book => book.availableCopies === 0);\n        }\n        setFilteredBooks(results);\n      }\n    } catch (err) {\n      setError('Search failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleFilter = ({\n    category,\n    availability\n  }) => {\n    let results = books;\n    if (category) {\n      results = results.filter(book => book.category === category);\n    }\n    if (availability === 'available') {\n      results = results.filter(book => book.availableCopies > 0);\n    } else if (availability === 'unavailable') {\n      results = results.filter(book => book.availableCopies === 0);\n    }\n    setFilteredBooks(results);\n  };\n  if (loading && books.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page book-list-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"\\uD83D\\uDCDA Book Collection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Browse our extensive library collection\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BookSearchBar, {\n        onSearch: handleSearch,\n        onFilter: handleFilter\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-error\",\n        children: [error, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchBooks,\n          className: \"btn btn-secondary\",\n          style: {\n            marginLeft: '10px'\n          },\n          children: \"Retry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this), filteredBooks.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"No books found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Try adjusting your search or filters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"results-count\",\n          children: [filteredBooks.length, \" books found\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"books-grid\",\n          children: filteredBooks.map(book => /*#__PURE__*/_jsxDEV(BookCard, {\n            book: book\n          }, book.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n};\n_s(BookListPage, \"wfjEYcbfXH5lmJGnjqlwjdsR82o=\");\n_c = BookListPage;\nexport default BookListPage;\nvar _c;\n$RefreshReg$(_c, \"BookListPage\");","map":{"version":3,"names":["React","useState","useEffect","BookCard","BookSearchBar","bookApi","jsxDEV","_jsxDEV","Fragment","_Fragment","BookListPage","_s","books","setBooks","filteredBooks","setFilteredBooks","loading","setLoading","error","setError","fetchBooks","data","getAllBooks","err","handleSearch","query","category","availability","searchBooks","results","filter","book","availableCopies","handleFilter","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSearch","onFilter","onClick","style","marginLeft","map","id","_c","$RefreshReg$"],"sources":["C:/STUDY/webapp/Library-Management-ITITIU22124/frontend/src/pages/BookListPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport BookCard from '../components/BookCard';\r\nimport BookSearchBar from '../components/BookSearchBar';\r\nimport bookApi from '../services/bookApi';\r\nimport './BookListPage.css';\r\n\r\nconst BookListPage = () => {\r\n  const [books, setBooks] = useState([]);\r\n  const [filteredBooks, setFilteredBooks] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchBooks();\r\n  }, []);\r\n\r\n  const fetchBooks = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const data = await bookApi.getAllBooks();\r\n      setBooks(data);\r\n      setFilteredBooks(data);\r\n    } catch (err) {\r\n      setError('Failed to load books');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSearch = async ({ query, category, availability }) => {\r\n    setLoading(true);\r\n    try {\r\n      if (query) {\r\n        const data = await bookApi.searchBooks(query);\r\n        let results = data;\r\n        if (category) {\r\n          results = results.filter((book) => book.category === category);\r\n        }\r\n        if (availability === 'available') {\r\n          results = results.filter((book) => book.availableCopies > 0);\r\n        } else if (availability === 'unavailable') {\r\n          results = results.filter((book) => book.availableCopies === 0);\r\n        }\r\n        setFilteredBooks(results);\r\n      } else {\r\n        // No query, just filter existing books\r\n        let results = books;\r\n        if (category) {\r\n          results = results.filter((book) => book.category === category);\r\n        }\r\n        if (availability === 'available') {\r\n          results = results.filter((book) => book.availableCopies > 0);\r\n        } else if (availability === 'unavailable') {\r\n          results = results.filter((book) => book.availableCopies === 0);\r\n        }\r\n        setFilteredBooks(results);\r\n      }\r\n    } catch (err) {\r\n      setError('Search failed');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFilter = ({ category, availability }) => {\r\n    let results = books;\r\n    if (category) {\r\n      results = results.filter((book) => book.category === category);\r\n    }\r\n    if (availability === 'available') {\r\n      results = results.filter((book) => book.availableCopies > 0);\r\n    } else if (availability === 'unavailable') {\r\n      results = results.filter((book) => book.availableCopies === 0);\r\n    }\r\n    setFilteredBooks(results);\r\n  };\r\n\r\n  if (loading && books.length === 0) {\r\n    return (\r\n      <div className=\"page\">\r\n        <div className=\"container\">\r\n          <div className=\"loading\">\r\n            <div className=\"spinner\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"page book-list-page\">\r\n      <div className=\"container\">\r\n        <div className=\"page-header\">\r\n          <h1>ðŸ“š Book Collection</h1>\r\n          <p>Browse our extensive library collection</p>\r\n        </div>\r\n\r\n        <BookSearchBar onSearch={handleSearch} onFilter={handleFilter} />\r\n\r\n        {error && (\r\n          <div className=\"alert alert-error\">\r\n            {error}\r\n            <button onClick={fetchBooks} className=\"btn btn-secondary\" style={{ marginLeft: '10px' }}>\r\n              Retry\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {filteredBooks.length === 0 ? (\r\n          <div className=\"empty-state\">\r\n            <h3>No books found</h3>\r\n            <p>Try adjusting your search or filters</p>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <p className=\"results-count\">{filteredBooks.length} books found</p>\r\n            <div className=\"books-grid\">\r\n              {filteredBooks.map((book) => (\r\n                <BookCard key={book.id} book={book} />\r\n              ))}\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BookListPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}