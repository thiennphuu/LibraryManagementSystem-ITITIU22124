{"ast":null,"code":"import apiClient from '../utils/apiClient';\nimport { handleApiError } from '../utils/errorHandler';\n\n/**\r\n * Book API Service\r\n * Maps to BookController endpoints\r\n */\nconst bookApi = {\n  /**\r\n   * Get QR code image for a book\r\n   * GET /books/{id}/qrcode\r\n   */\n  getBookQrCode: async id => {\n    try {\n      const response = await apiClient.get(`/books/${id}/qrcode`, {\n        responseType: 'arraybuffer'\n      });\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Get all books\r\n   * GET /books\r\n   */\n  getAllBooks: async (params = {}) => {\n    try {\n      const response = await apiClient.get('/books', {\n        params\n      });\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Get book by ID\r\n   * GET /books/{id}\r\n   */\n  getBookById: async id => {\n    try {\n      const response = await apiClient.get(`/books/${id}`);\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Search books\r\n   * GET /books/search?query={query}\r\n   */\n  searchBooks: async (query, filters = {}) => {\n    try {\n      const response = await apiClient.get('/books/search', {\n        params: {\n          query,\n          ...filters\n        }\n      });\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Get available books\r\n   * GET /books/available\r\n   */\n  getAvailableBooks: async () => {\n    try {\n      const response = await apiClient.get('/books/available');\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Create new book (Admin only)\r\n   * POST /books\r\n   */\n  createBook: async bookData => {\n    try {\n      const response = await apiClient.post('/books', bookData);\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Update book (Admin only)\r\n   * PUT /books/{id}\r\n   */\n  updateBook: async (id, bookData) => {\n    try {\n      const response = await apiClient.put(`/books/${id}`, bookData);\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Delete book (Admin only)\r\n   * DELETE /books/{id}\r\n   */\n  deleteBook: async id => {\n    try {\n      const response = await apiClient.delete(`/books/${id}`);\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Get books by category\r\n   * GET /books/category/{category}\r\n   */\n  getBooksByCategory: async category => {\n    try {\n      const response = await apiClient.get(`/books/category/${category}`);\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Get books by author\r\n   * GET /books/author/{author}\r\n   */\n  getBooksByAuthor: async author => {\n    try {\n      const response = await apiClient.get(`/books/author/${author}`);\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  }\n};\nexport default bookApi;","map":{"version":3,"names":["apiClient","handleApiError","bookApi","getBookQrCode","id","response","get","responseType","data","error","getAllBooks","params","getBookById","searchBooks","query","filters","getAvailableBooks","createBook","bookData","post","updateBook","put","deleteBook","delete","getBooksByCategory","category","getBooksByAuthor","author"],"sources":["C:/STUDY/webapp/Library-Management-ITITIU22124/frontend/src/services/bookApi.js"],"sourcesContent":["import apiClient from '../utils/apiClient';\r\nimport { handleApiError } from '../utils/errorHandler';\r\n\r\n/**\r\n * Book API Service\r\n * Maps to BookController endpoints\r\n */\r\nconst bookApi = {\r\n  /**\r\n   * Get QR code image for a book\r\n   * GET /books/{id}/qrcode\r\n   */\r\n  getBookQrCode: async (id) => {\r\n    try {\r\n      const response = await apiClient.get(`/books/${id}/qrcode`, { responseType: 'arraybuffer' });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n  /**\r\n   * Get all books\r\n   * GET /books\r\n   */\r\n  getAllBooks: async (params = {}) => {\r\n    try {\r\n      const response = await apiClient.get('/books', { params });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Get book by ID\r\n   * GET /books/{id}\r\n   */\r\n  getBookById: async (id) => {\r\n    try {\r\n      const response = await apiClient.get(`/books/${id}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Search books\r\n   * GET /books/search?query={query}\r\n   */\r\n  searchBooks: async (query, filters = {}) => {\r\n    try {\r\n      const response = await apiClient.get('/books/search', {\r\n        params: { query, ...filters },\r\n      });\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Get available books\r\n   * GET /books/available\r\n   */\r\n  getAvailableBooks: async () => {\r\n    try {\r\n      const response = await apiClient.get('/books/available');\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Create new book (Admin only)\r\n   * POST /books\r\n   */\r\n  createBook: async (bookData) => {\r\n    try {\r\n      const response = await apiClient.post('/books', bookData);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Update book (Admin only)\r\n   * PUT /books/{id}\r\n   */\r\n  updateBook: async (id, bookData) => {\r\n    try {\r\n      const response = await apiClient.put(`/books/${id}`, bookData);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Delete book (Admin only)\r\n   * DELETE /books/{id}\r\n   */\r\n  deleteBook: async (id) => {\r\n    try {\r\n      const response = await apiClient.delete(`/books/${id}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Get books by category\r\n   * GET /books/category/{category}\r\n   */\r\n  getBooksByCategory: async (category) => {\r\n    try {\r\n      const response = await apiClient.get(`/books/category/${category}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Get books by author\r\n   * GET /books/author/{author}\r\n   */\r\n  getBooksByAuthor: async (author) => {\r\n    try {\r\n      const response = await apiClient.get(`/books/author/${author}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n};\r\n\r\nexport default bookApi;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}