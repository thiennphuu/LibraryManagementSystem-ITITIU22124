{"ast":null,"code":"import apiClient from '../utils/apiClient';\nimport { handleApiError } from '../utils/errorHandler';\n\n/**\r\n * Reservation API Service\r\n * Maps to ReservationController endpoints\r\n */\nconst reservationApi = {\n  /**\r\n   * Create a reservation\r\n   * POST /reservations\r\n   */\n  createReservation: async reservationData => {\n    try {\n      const response = await apiClient.post('/reservations', reservationData);\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Get reservations by user\r\n   * GET /reservations/user/{userId}\r\n   */\n  getReservationsByUser: async userId => {\n    try {\n      const response = await apiClient.get(`/reservations/user/${userId}`);\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Get current user's reservations\r\n   * GET /reservations/my-reservations\r\n   */\n  getMyReservations: async () => {\n    try {\n      const response = await apiClient.get('/reservations/my-reservations');\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Cancel a reservation\r\n   * PUT /reservations/{id}/cancel\r\n   */\n  cancelReservation: async reservationId => {\n    try {\n      const response = await apiClient.put(`/reservations/${reservationId}/cancel`);\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Mark reservation as ready (Admin)\r\n   * PUT /reservations/{id}/ready\r\n   */\n  markAsReady: async reservationId => {\n    try {\n      const response = await apiClient.put(`/reservations/${reservationId}/ready`);\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Get all reservations (Admin)\r\n   * GET /reservations\r\n   */\n  getAllReservations: async () => {\n    try {\n      const response = await apiClient.get('/reservations');\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Get reservations for a book\r\n   * GET /reservations/book/{bookId}\r\n   */\n  getReservationsForBook: async bookId => {\n    try {\n      const response = await apiClient.get(`/reservations/book/${bookId}`);\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Get queue position\r\n   * GET /reservations/{id}/position\r\n   */\n  getQueuePosition: async reservationId => {\n    try {\n      const response = await apiClient.get(`/reservations/${reservationId}/position`);\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  },\n  /**\r\n   * Fulfill reservation (convert to borrow)\r\n   * POST /reservations/{id}/fulfill\r\n   */\n  fulfillReservation: async reservationId => {\n    try {\n      const response = await apiClient.post(`/reservations/${reservationId}/fulfill`);\n      return response.data;\n    } catch (error) {\n      throw handleApiError(error);\n    }\n  }\n};\nexport default reservationApi;","map":{"version":3,"names":["apiClient","handleApiError","reservationApi","createReservation","reservationData","response","post","data","error","getReservationsByUser","userId","get","getMyReservations","cancelReservation","reservationId","put","markAsReady","getAllReservations","getReservationsForBook","bookId","getQueuePosition","fulfillReservation"],"sources":["C:/STUDY/webapp/Library-Management-ITITIU22124/frontend/src/services/reservationApi.js"],"sourcesContent":["import apiClient from '../utils/apiClient';\r\nimport { handleApiError } from '../utils/errorHandler';\r\n\r\n/**\r\n * Reservation API Service\r\n * Maps to ReservationController endpoints\r\n */\r\nconst reservationApi = {\r\n  /**\r\n   * Create a reservation\r\n   * POST /reservations\r\n   */\r\n  createReservation: async (reservationData) => {\r\n    try {\r\n      const response = await apiClient.post('/reservations', reservationData);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Get reservations by user\r\n   * GET /reservations/user/{userId}\r\n   */\r\n  getReservationsByUser: async (userId) => {\r\n    try {\r\n      const response = await apiClient.get(`/reservations/user/${userId}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Get current user's reservations\r\n   * GET /reservations/my-reservations\r\n   */\r\n  getMyReservations: async () => {\r\n    try {\r\n      const response = await apiClient.get('/reservations/my-reservations');\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Cancel a reservation\r\n   * PUT /reservations/{id}/cancel\r\n   */\r\n  cancelReservation: async (reservationId) => {\r\n    try {\r\n      const response = await apiClient.put(`/reservations/${reservationId}/cancel`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Mark reservation as ready (Admin)\r\n   * PUT /reservations/{id}/ready\r\n   */\r\n  markAsReady: async (reservationId) => {\r\n    try {\r\n      const response = await apiClient.put(`/reservations/${reservationId}/ready`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Get all reservations (Admin)\r\n   * GET /reservations\r\n   */\r\n  getAllReservations: async () => {\r\n    try {\r\n      const response = await apiClient.get('/reservations');\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Get reservations for a book\r\n   * GET /reservations/book/{bookId}\r\n   */\r\n  getReservationsForBook: async (bookId) => {\r\n    try {\r\n      const response = await apiClient.get(`/reservations/book/${bookId}`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Get queue position\r\n   * GET /reservations/{id}/position\r\n   */\r\n  getQueuePosition: async (reservationId) => {\r\n    try {\r\n      const response = await apiClient.get(`/reservations/${reservationId}/position`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Fulfill reservation (convert to borrow)\r\n   * POST /reservations/{id}/fulfill\r\n   */\r\n  fulfillReservation: async (reservationId) => {\r\n    try {\r\n      const response = await apiClient.post(`/reservations/${reservationId}/fulfill`);\r\n      return response.data;\r\n    } catch (error) {\r\n      throw handleApiError(error);\r\n    }\r\n  },\r\n};\r\n\r\nexport default reservationApi;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}